
YPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>WaQtek | Cr√©ation File d‚ÄôAttente</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            background: #0f172a;
            font-family: Arial, sans-serif;
            padding: 40px;
        }

        .box {
            max-width: 540px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(0,0,0,.3);
        }

        h1 {
            text-align: center;
            margin-bottom: 25px;
            color: #0f172a;
        }

        label {
            font-weight: 600;
            display: block;
            margin-bottom: 6px;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 16px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

        select {
            cursor: pointer;
        }

        button {
            width: 100%;
            padding: 14px;
            background: #2563eb;
            color: #fff;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background: #1d4ed8;
        }

        .error {
            color: #dc2626;
            text-align: center;
            margin-top: 10px;
        }

        .success {
            color: #16a34a;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="box">
    <h1>Cr√©er une file d‚Äôattente</h1>

    <form id="queueForm" onsubmit="event.preventDefault(); createQueue();">

        <!-- üîΩ S√âLECTION √âTABLISSEMENT -->
        <label for="estSelect">√âtablissement</label>
        <select id="estSelect" required>
            <option value="">Chargement des √©tablissements...</option>
        </select>

        <!-- NOM FILE -->
        <label for="queueName">Nom de la file</label>
        <input
            type="text"
            id="queueName"
            placeholder="Ex: Caisse principale"
            required
        >

        <!-- DESCRIPTION -->
        <label for="queueDesc">Description</label>
        <textarea
            id="queueDesc"
            placeholder="Description optionnelle"
        ></textarea>

        <!-- CAPACIT√â -->
        <label for="queueCapacity">Capacit√© (optionnel)</label>
        <input
            type="number"
            id="queueCapacity"
            placeholder="Ex: 10"
            min="1"
        >

        <!-- PRIORIT√â -->
        <label for="queuePriority">Priorit√©</label>
        <select id="queuePriority">
            <option value="normal">Normale</option>
            <option value="high">Haute</option>
            <option value="low">Basse</option>
        </select>

        <button type="submit" id="createQueueBtn">Cr√©er la file</button>
    </form>

    <div id="error" class="error"></div>
    <div id="success" class="success"></div>

    <!-- Files existantes -->
    <h2 style="margin-top: 40px; color: #0f172a;">Files d'attente</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background: #f3f4f6;">
                <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Nom</th>
                <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Description</th>
                <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Capacit√©</th>
                <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Priorit√©</th>
                <th style="padding: 12px; border: 1px solid #ddd; text-align: center;">Actions</th>
            </tr>
        </thead>
        <tbody id="queuesTable">
            <tr><td colspan="5" style="padding: 20px; text-align: center; color: #999;">Chargement...</td></tr>
        </tbody>
    </table>
</div>

<!-- Core Scripts (Required Order) -->
<script src="../js/config.js"></script>
<script src="../js/core/StateManager.js"></script>
<script src="../js/core/ApiClient.js"></script>
<script src="../js/core/WebSocketClient.js"></script>
<script src="../js/init.js"></script>

<!-- Services -->
<script src="../js/services/AuthService.js"></script>
<script src="../js/services/EstablishmentService.js"></script>
<script src="../js/services/QueueService.js"></script>
<script src="../js/services/TicketService.js"></script>
<script src="../js/services/StatsService.js"></script>
<script src="../js/services/RealtimeService.js"></script>

<!-- Utilities -->
<script src="../js/utils.js"></script>

<!-- Page-Specific Script -->
<script src="../js/pages/enterprise/create-queue.js"></script>


<script src="../js/pages.js"></script>
<script src="../js/components/dynamic-menu.js"></script>
</body>
</html>
